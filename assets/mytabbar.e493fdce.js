import{D as t,E as e,G as o,x as a,y as i,o as s,a as n,w as l,b as r,l as u,n as c,j as h,F as d,k as m,m as b,d as p,e as g,t as _,f,h as y,q as P,v as I}from"./index-0856ab2f.js";import{_ as B}from"./mypage.6300dc88.js";import{_ as v}from"./u-badge.1ee4fbe0.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const C=x({emits:["update:modelValue","input","change"],props:{value:{type:[String,Number],default:0},modelValue:{type:[String,Number],default:0},show:{type:Boolean,default:!0},bgColor:{type:String,default:"#ffffff"},height:{type:[String,Number],default:"50px"},iconSize:{type:[String,Number],default:40},midButtonSize:{type:[String,Number],default:90},activeColor:{type:String,default:"#303133"},inactiveColor:{type:String,default:"#606266"},midButton:{type:Boolean,default:!1},list:{type:Array,default:()=>[]},beforeSwitch:{type:Function,default:null},borderTop:{type:Boolean,default:!0},hideTabBar:{type:Boolean,default:!0}},data:()=>({midButtonLeft:"50%",pageUrl:""}),created(){this.hideTabBar&&t();let o=e();this.pageUrl=o[o.length-1].route},computed:{valueCom(){return this.modelValue},elIconPath(){return t=>{let e=this.list[t].pagePath;return e?e==this.pageUrl||e=="/"+this.pageUrl?this.list[t].selectedIconPath:this.list[t].iconPath:t==this.valueCom?this.list[t].selectedIconPath:this.list[t].iconPath}},elColor(){return t=>{let e=this.list[t].pagePath;return e?e==this.pageUrl||e=="/"+this.pageUrl?this.activeColor:this.inactiveColor:t==this.valueCom?this.activeColor:this.inactiveColor}}},mounted(){this.midButton&&this.getMidButtonLeft()},methods:{async clickHandler(t){if(this.beforeSwitch&&"function"==typeof this.beforeSwitch){let e=this.beforeSwitch.bind(this.$u.$parent.call(this))(t);e&&"function"==typeof e.then?await e.then((e=>{this.switchTab(t)})).catch((t=>{})):!0===e&&this.switchTab(t)}else this.switchTab(t)},switchTab(t){this.$emit("change",t),this.list[t].pagePath?o({url:this.list[t].pagePath}):(this.$emit("input",t),this.$emit("update:modelValue",t))},getOffsetRight:(t,e)=>e?-20:t>9?-40:-30,getMidButtonLeft(){let t=this.$u.sys().windowWidth;this.midButtonLeft=t/2+"px"}}},[["render",function(t,e,o,P,I,x){const C=a(i("u-icon"),B),T=a(i("u-badge"),v),S=f,w=y;return o.show?(s(),n(S,{key:0,class:"u-tabbar",onTouchmove:e[0]||(e[0]=b((()=>{}),["stop","prevent"]))},{default:l((()=>[r(S,{class:u(["u-tabbar__content safe-area-inset-bottom",{"u-border-top":o.borderTop}]),style:c({height:t.$u.addUnit(o.height),backgroundColor:o.bgColor})},{default:l((()=>[(s(!0),h(d,null,m(o.list,((t,e)=>(s(),n(S,{class:u(["u-tabbar__content__item",{"u-tabbar__content__circle":o.midButton&&t.midButton}]),key:e,onClick:b((t=>x.clickHandler(e)),["stop"]),style:c({backgroundColor:o.bgColor})},{default:l((()=>[r(S,{class:u([o.midButton&&t.midButton?"u-tabbar__content__circle__button":"u-tabbar__content__item__button"])},{default:l((()=>[r(C,{size:o.midButton&&t.midButton?o.midButtonSize:o.iconSize,name:x.elIconPath(e),"img-mode":"scaleToFill",color:x.elColor(e),"custom-prefix":t.customIcon?"custom-icon":"uicon"},null,8,["size","name","color","custom-prefix"]),t.count?(s(),n(T,{key:0,count:t.count,"is-dot":t.isDot,offset:[-2,x.getOffsetRight(t.count,t.isDot)]},null,8,["count","is-dot","offset"])):p("",!0)])),_:2},1032,["class"]),r(S,{class:"u-tabbar__content__item__text",style:c({color:x.elColor(e)})},{default:l((()=>[r(w,{class:"u-line-1"},{default:l((()=>[g(_(t.text),1)])),_:2},1024)])),_:2},1032,["style"])])),_:2},1032,["class","onClick","style"])))),128)),o.midButton?(s(),n(S,{key:0,class:u(["u-tabbar__content__circle__border",{"u-border":o.borderTop}]),style:c({backgroundColor:o.bgColor,left:I.midButtonLeft})},null,8,["class","style"])):p("",!0)])),_:1},8,["style","class"]),r(S,{class:"u-fixed-placeholder safe-area-inset-bottom",style:c({height:`calc(${t.$u.addUnit(o.height)} + ${o.midButton?48:0}rpx)`})},null,8,["style"])])),_:1})):p("",!0)}],["__scopeId","data-v-cc70954e"]]),T=x({__name:"mytabbar",props:{index:Number},setup(t){const e=t,{proxy:o}=I(),l=P({list:[{iconPath:o.Pub.getThemeImg("tabbar/icon_home.png"),selectedIconPath:o.Pub.getThemeImg("tabbar/icon_home_active.png"),text:"首页",customIcon:!1,pagePath:"/pages/index/index"},{iconPath:o.Pub.getThemeImg("tabbar/icon_quotes.png"),selectedIconPath:o.Pub.getThemeImg("tabbar/icon_quotes_active.png"),text:"行情",customIcon:!1,pagePath:"/pages/quotes/quotes"},{iconPath:o.Pub.getThemeImg("tabbar/icon_optional.png"),selectedIconPath:o.Pub.getThemeImg("tabbar/icon_optional_active.png"),text:"自选",customIcon:!1,pagePath:"/pages/optional/optional"},{iconPath:o.Pub.getThemeImg("tabbar/icon_mine.png"),selectedIconPath:o.Pub.getThemeImg("tabbar/icon_mine_active.png"),text:"我的",customIcon:!1,pagePath:"/pages/mine/mine"}],current:e.index||""});return(t,e)=>{const o=a(i("u-tabbar"),C);return s(),n(o,{modelValue:l.current,"onUpdate:modelValue":e[0]||(e[0]=t=>l.current=t),list:l.list,"mid-button":!1,"border-top":!1,"active-color":"rgb(19, 141, 179)","inactive-color":"#fff","hide-tab-bar":!0},null,8,["modelValue","list"])}}},[["__scopeId","data-v-b0670518"]]);export{T as _};
