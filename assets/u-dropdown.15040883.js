import{_ as t}from"./mypage.6300dc88.js";import{x as e,y as l,o,a as i,w as a,r as s,b as r,n,j as u,F as d,e as c,t as p,d as h,l as y,f as m,k as f,m as _,W as b,h as g}from"./index-0856ab2f.js";import{_ as v}from"./_plugin-vue_export-helper.1b428a4d.js";const k=v({name:"u-cell-item",emits:["click"],props:{icon:{type:String,default:""},title:{type:[String,Number],default:""},value:{type:[String,Number],default:""},label:{type:[String,Number],default:""},borderBottom:{type:Boolean,default:!0},borderTop:{type:Boolean,default:!1},hoverClass:{type:String,default:"u-cell-hover"},arrow:{type:Boolean,default:!0},center:{type:Boolean,default:!1},required:{type:Boolean,default:!1},titleWidth:{type:[Number,String],default:""},arrowDirection:{type:String,default:"right"},titleStyle:{type:Object,default:()=>({})},valueStyle:{type:Object,default:()=>({})},labelStyle:{type:Object,default:()=>({})},bgColor:{type:String,default:"transparent"},index:{type:[String,Number],default:""},useLabelSlot:{type:Boolean,default:!1},iconSize:{type:[Number,String],default:34},iconStyle:{type:Object,default:()=>({})}},data:()=>({}),computed:{arrowStyle(){let t={};return"up"==this.arrowDirection?t.transform="rotate(-90deg)":"down"==this.arrowDirection?t.transform="rotate(90deg)":t.transform="rotate(0deg)",t}},methods:{click(){this.$emit("click",this.index)}}},[["render",function(f,_,b,g,v,k){const S=e(l("u-icon"),t),C=m;return o(),i(C,{onClick:k.click,class:y(["u-cell",{"u-border-bottom":b.borderBottom,"u-border-top":b.borderTop,"u-col-center":b.center,"u-cell--required":b.required}]),"hover-stay-time":"150","hover-class":b.hoverClass,style:n({backgroundColor:b.bgColor})},{default:a((()=>[b.icon?(o(),i(S,{key:0,size:b.iconSize,name:b.icon,"custom-style":b.iconStyle,class:"u-cell__left-icon-wrap"},null,8,["size","name","custom-style"])):(o(),i(C,{key:1,class:"u-flex"},{default:a((()=>[s(f.$slots,"icon",{},void 0,!0)])),_:3})),r(C,{class:"u-cell_title",style:n([{width:b.titleWidth?b.titleWidth+"rpx":"auto"},b.titleStyle])},{default:a((()=>[""!==b.title?(o(),u(d,{key:0},[c(p(b.title),1)],64)):s(f.$slots,"title",{key:1},void 0,!0),b.label||f.$slots.label?(o(),i(C,{key:2,class:"u-cell__label",style:n([b.labelStyle])},{default:a((()=>[""!==b.label?(o(),u(d,{key:0},[c(p(b.label),1)],64)):s(f.$slots,"label",{key:1},void 0,!0)])),_:3},8,["style"])):h("",!0)])),_:3},8,["style"]),r(C,{class:"u-cell__value",style:n([b.valueStyle])},{default:a((()=>[""!==b.value?(o(),u(d,{key:0},[c(p(b.value),1)],64)):s(f.$slots,"default",{key:1},void 0,!0)])),_:3},8,["style"]),f.$slots["right-icon"]?(o(),i(C,{key:2,class:"u-flex u-cell_right"},{default:a((()=>[s(f.$slots,"right-icon",{},void 0,!0)])),_:3})):h("",!0),b.arrow?(o(),i(S,{key:3,name:"arrow-right",style:n([k.arrowStyle]),class:"u-icon-wrap u-cell__right-icon-wrap"},null,8,["style"])):h("",!0)])),_:3},8,["onClick","class","hover-class","style"])}],["__scopeId","data-v-051bca84"]]);const S=v({name:"u-cell-group",props:{title:{type:String,default:""},border:{type:Boolean,default:!0},titleStyle:{type:Object,default:()=>({})}},data:()=>({index:0})},[["render",function(t,e,l,u,d,f){const _=m;return o(),i(_,{class:"u-cell-box"},{default:a((()=>[l.title?(o(),i(_,{key:0,class:"u-cell-title",style:n([l.titleStyle])},{default:a((()=>[c(p(l.title),1)])),_:1},8,["style"])):h("",!0),r(_,{class:y(["u-cell-item-box",{"u-border-bottom u-border-top":l.border}])},{default:a((()=>[s(t.$slots,"default",{},void 0,!0)])),_:3},8,["class"])])),_:3})}],["__scopeId","data-v-0fd0bdb3"]]);const C=v({name:"u-dropdown-item",emits:["update:modelValue","input","change"],props:{value:{type:[Number,String,Array],default:""},modelValue:{type:[Number,String,Array],default:""},title:{type:[String,Number],default:""},options:{type:Array,default:()=>[]},disabled:{type:Boolean,default:!1},height:{type:[Number,String],default:"auto"}},data:()=>({active:!1,activeColor:"#2979ff",inactiveColor:"#606266"}),computed:{valueCom(){return this.modelValue},propsChange(){return`${this.title}-${this.disabled}`}},watch:{propsChange(t){this.parent&&this.parent.init()}},created(){this.parent=!1},methods:{init(){let t=this.$u.$parent.call(this,"u-dropdown");if(t){this.parent=t,this.activeColor=t.activeColor,this.inactiveColor=t.inactiveColor,t.children.find((t=>this===t))||t.children.push(this),1==t.children.length&&(this.active=!0),t.menuList.push({title:this.title,disabled:this.disabled})}},cellClick(t){this.$emit("input",t),this.$emit("update:modelValue",t),this.parent.close(),this.$emit("change",t)}},mounted(){this.init()}},[["render",function(c,p,y,g,v,C){const w=e(l("u-icon"),t),$=e(l("u-cell-item"),k),x=e(l("u-cell-group"),S),I=m,z=b;return v.active?(o(),i(I,{key:0,class:"u-dropdown-item",onTouchmove:p[0]||(p[0]=_((()=>{}),["stop","prevent"])),onClick:p[1]||(p[1]=_((()=>{}),["stop","prevent"]))},{default:a((()=>[c.$slots.default||c.$slots.$default?s(c.$slots,"default",{key:1},void 0,!0):(o(),i(z,{key:0,"scroll-y":"true",style:n({height:c.$u.addUnit(y.height)})},{default:a((()=>[r(I,{class:"u-dropdown-item__options"},{default:a((()=>[r(x,null,{default:a((()=>[(o(!0),u(d,null,f(y.options,((t,e)=>(o(),i($,{onClick:e=>C.cellClick(t.value),arrow:!1,title:t.label,key:e,"title-style":{color:y.value===t.value?v.activeColor:v.inactiveColor}},{default:a((()=>[C.valueCom===t.value?(o(),i(w,{key:0,name:"checkbox-mark",color:v.activeColor,size:"32"},null,8,["color"])):h("",!0)])),_:2},1032,["onClick","title","title-style"])))),128))])),_:1})])),_:1})])),_:1},8,["style"]))])),_:3})):h("",!0)}],["__scopeId","data-v-553b909b"]]);const w=v({name:"u-dropdown",emits:["open","close"],props:{activeColor:{type:String,default:"#2979ff"},inactiveColor:{type:String,default:"#606266"},closeOnClickMask:{type:Boolean,default:!0},closeOnClickSelf:{type:Boolean,default:!0},duration:{type:[Number,String],default:300},height:{type:[Number,String],default:80},borderBottom:{type:Boolean,default:!1},titleSize:{type:[Number,String],default:28},borderRadius:{type:[Number,String],default:0},menuIcon:{type:String,default:"arrow-down"},menuIconSize:{type:[Number,String],default:26}},data:()=>({showDropdown:!0,menuList:[],active:!1,current:99999,contentStyle:{zIndex:-1,opacity:0},highlightIndex:99999,contentHeight:0}),computed:{popupStyle(){let t={};return t.transform=`translateY(${this.active?0:"-100%"})`,t["transition-duration"]=this.duration/1e3+"s",t.borderRadius=`0 0 ${this.$u.addUnit(this.borderRadius)} ${this.$u.addUnit(this.borderRadius)}`,t}},created(){this.children=[]},mounted(){this.getContentHeight()},methods:{init(){this.menuList=[],this.children.map((t=>{t.init()}))},menuClick(t){if(!this.menuList[t].disabled)return t===this.current&&this.closeOnClickSelf?(this.close(),void setTimeout((()=>{this.children[t].active=!1}),this.duration)):void this.open(t)},open(t){this.contentStyle={zIndex:11},this.active=!0,this.current=t,this.children.map(((e,l)=>{e.active=t==l})),this.$emit("open",this.current)},close(){this.$emit("close",this.current),this.active=!1,this.current=99999,this.contentStyle={zIndex:-1,opacity:0}},maskClick(){this.closeOnClickMask&&this.close()},highlight(t){this.highlightIndex=void 0!==t?t:99999},getContentHeight(){let t=this.$u.sys().windowHeight;this.$uGetRect(".u-dropdown__menu").then((e=>{this.contentHeight=t-e.bottom}))}}},[["render",function(h,b,v,k,S,C){const w=g,$=e(l("u-icon"),t),x=m;return o(),i(x,{class:"u-dropdown"},{default:a((()=>[r(x,{class:y(["u-dropdown__menu",{"u-border-bottom":v.borderBottom}]),style:n({height:h.$u.addUnit(v.height)})},{default:a((()=>[(o(!0),u(d,null,f(S.menuList,((t,e)=>(o(),i(x,{class:"u-dropdown__menu__item",key:e,onClick:_((t=>C.menuClick(e)),["stop"])},{default:a((()=>[r(x,{class:"u-flex"},{default:a((()=>[r(w,{class:"u-dropdown__menu__item__text",style:n({color:t.disabled?"#c0c4cc":e===S.current||S.highlightIndex==e?v.activeColor:v.inactiveColor,fontSize:h.$u.addUnit(v.titleSize)})},{default:a((()=>[c(p(t.title),1)])),_:2},1032,["style"]),r(x,{class:y(["u-dropdown__menu__item__arrow",{"u-dropdown__menu__item__arrow--rotate":e===S.current}])},{default:a((()=>[r($,{"custom-style":{display:"flex"},name:v.menuIcon,size:h.$u.addUnit(v.menuIconSize),color:e===S.current||S.highlightIndex==e?v.activeColor:"#c0c4cc"},null,8,["name","size","color"])])),_:2},1032,["class"])])),_:2},1024)])),_:2},1032,["onClick"])))),128))])),_:1},8,["style","class"]),r(x,{class:"u-dropdown__content",style:n([S.contentStyle,{transition:`opacity ${v.duration/1e3}s linear`,top:h.$u.addUnit(v.height),height:S.contentHeight+"px"}]),onClick:C.maskClick,onTouchmove:b[1]||(b[1]=_((()=>{}),["stop","prevent"]))},{default:a((()=>[r(x,{onClick:b[0]||(b[0]=_((()=>{}),["stop","prevent"])),class:"u-dropdown__content__popup",style:n([C.popupStyle])},{default:a((()=>[s(h.$slots,"default",{},void 0,!0)])),_:3},8,["style"]),r(x,{class:"u-dropdown__content__mask"})])),_:3},8,["style","onClick"])])),_:3})}],["__scopeId","data-v-4b46a2e4"]]);export{C as _,w as a};
